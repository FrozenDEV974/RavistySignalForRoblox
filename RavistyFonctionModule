local ravisty = {}

local UnBlock = {
	998796 -- MOI
}


ravisty.event = function(plr, info, to,ForcedValue)
	print("event")
	print(plr,info,to,ForcedValue)
	if plr ~= nil then
	local dest = plr.PlayerGui["A-Chassis Interface"].Car.Value.Body.RavistyELS.INPUT:WaitForChild(info)
	print(dest,' - ',to," - ",ForcedValue)
	if dest.Name ~= "Trafic" and dest.Name ~= "US" and dest.Name ~= "PMV" and dest.Name ~= "CustomSiren" and dest.Name ~= "CarLights" then
		if ForcedValue == nil then
			if dest.Value == false then
				dest.Value = true
			else
				dest.Value = false
			end	

		else

			dest.Value = ForcedValue

		end

	elseif dest.Name == "Trafic" then
		if to == nil then
			if dest.Value == 3 then
				dest.Value = 0

			else

				dest.Value = dest.Value+1

			end
		elseif to == "mod4" then
			if dest.Value == 4 then
				dest.Value = 0

			else

				dest.Value = dest.Value+1

			end
		elseif to == "mod5" then
			if dest.Value == 5 then
				dest.Value = 0

			else

				dest.Value = dest.Value+1

			end
		end

	elseif dest.Name == "US" then

		if to == dest.Value then
			dest.Value = 0
		else
			dest.Value = to
		end

	elseif dest.Name == "PMV" then
		print('find')
		if to == dest.Value then
			dest.Value = "0"
		else
			dest.Value = to
		end
	elseif dest.Name == "CustomSiren" then
		if dest.Value == false then
			dest:SetAttribute("ID",to)
			dest.Value = true
		else
			dest:SetAttribute("ID","")
			dest.Value = false
		end
	elseif dest.Name == "CarLights" then
		if to == "LIGHT" then
			if dest:GetAttribute(to) == false then
				dest:SetAttribute(to, true)
			else
				dest:SetAttribute(to, false)
			end
		elseif to == "REVERSE" then
			dest:SetAttribute(to, ForcedValue)
		elseif to == "BRAKE" then
			dest:SetAttribute(to, ForcedValue)
		elseif to == "BLINK" then

			if ForcedValue ~= dest:GetAttribute(to) then
				dest:SetAttribute(to,ForcedValue)
			else
				dest:SetAttribute(to,0)
			end
			end
		end
		end
end



function watermark(destination)
	local SG = Instance.new("ScreenGui")
	SG.Name = "Copyright"
	
	----------------
	
	local frm = Instance.new("Frame")
	frm.Size=UDim2.new(1,0,1,0)
	frm.Position=UDim2.new(0,0,0,0)
	frm.BackgroundTransparency = 1
	frm.Parent = SG
	
	local list = Instance.new("UIGridLayout")
	list.CellSize = UDim2.new(1,0,0.2,0)
	list.CellPadding = UDim2.new(0,5,0,5)
	list.Parent = frm
	for i = 1,5 do
	local cpr = Instance.new("TextLabel")
	cpr.BackgroundTransparency = 1
	cpr.TextTransparency=0.92
	cpr.Text="Â©RavistySignal - Please, contact lobby_974"
	cpr.TextScaled = true
	cpr.TextColor3 = Color3.fromRGB(255, 0, 213)
	cpr.Parent=frm
	end
	SG.DisplayOrder = 10^9
	SG.Parent = destination
	
end



ravisty.load = function(gm)
	local done = 0
	for _,v in pairs(UnBlock)do
		if gm.CreatorId == v then
			done = 1
		end
	end
	if done == 0 then
		for _,players in pairs(gm.Players:GetChildren())do
			if not players.PlayerGui:FindFirstChild('Copyright') then
				watermark(players.PlayerGui)
			end
			wait(0.5)
		end
		if not gm.StarterGui:FindFirstChild('Copyright') then
			watermark(gm.StarterGui)
		end
	end
end


return ravisty
